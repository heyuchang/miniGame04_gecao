{"version":3,"sources":["file:///G:/cocos/%E6%9C%AB%E6%97%A5%E7%89%B9%E5%B7%A5%E9%98%9F/assets/scripts/game/compoment/item/hint/Hint.ts"],"names":["Component","find","Tween","_decorator","cocosUtil","mapModel","AnimationCtrl","ccclass","property","HintNames","targetPos","targetPos2","targetPos3","hit1","hit2","hit3","hit4","hit5","hit6","hit7","boom1","feiBiao","blockArrow","comeShine","Hint","bodyNode","hintUtil","extraObj","init","name","worldPos","angle","node","unscheduleAllCallbacks","stopAllByTarget","pos","convertToNodeSpace","setPosition","aniCtrl","addComponentOnce","playAnimation","hintSystem","recycleHintNode","e","recycleSelf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAYC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,U,OAAAA,U;;AACpCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;2BAEjBM,S,GAAY;AACrBC,QAAAA,SAAS,EAAE,WADU;AAErBC,QAAAA,UAAU,EAAE,YAFS;AAGrBC,QAAAA,UAAU,EAAE,YAHS;AAIrBC,QAAAA,IAAI,EAAE,MAJe;AAKrBC,QAAAA,IAAI,EAAE,MALe;AAMrBC,QAAAA,IAAI,EAAE,MANe;AAOrBC,QAAAA,IAAI,EAAE,MAPe;AAQrBC,QAAAA,IAAI,EAAE,MARe;AASrBC,QAAAA,IAAI,EAAE,MATe;AAUrBC,QAAAA,IAAI,EAAE,MAVe;AAWrBC,QAAAA,KAAK,EAAE,OAXc;AAYrBC,QAAAA,OAAO,EAAE,SAZY;AAarBC,QAAAA,UAAU,EAAE,YAbS;AAcrBC,QAAAA,SAAS,EAAE;AAdU,O;;sBAkBZC,I,WADZjB,OAAO,CAAC,MAAD,C,gBAAR,MACaiB,IADb,SAC0BxB,SAD1B,CACoC;AAAA;AAAA;AAAA,eAEhCyB,QAFgC;AAAA,eAIhCC,QAJgC;AAAA,eAKhCC,QALgC;AAAA;;AAOhCC,QAAAA,IAAI,CAACC,IAAD,EAAeC,QAAf,EAA+BC,KAA/B,EAAkDJ,QAAlD,EAAkE;AAAA,cAAnCI,KAAmC;AAAnCA,YAAAA,KAAmC,GAAnB,CAAmB;AAAA;;AAClE,eAAKN,QAAL,GAAgBxB,IAAI,CAAC,MAAD,EAAS,KAAK+B,IAAd,CAApB;AACA,eAAKL,QAAL,GAAgBA,QAAhB;AACA,eAAKM,sBAAL;AACA/B,UAAAA,KAAK,CAACgC,eAAN,CAAsB,KAAKF,IAA3B;AAEA,cAAIG,GAAG,GAAG;AAAA;AAAA,sCAAUC,kBAAV,CAA6B,KAAKJ,IAAlC,EAAwCF,QAAxC,CAAV;AACA,eAAKE,IAAL,CAAUK,WAAV,CAAsBF,GAAtB;AACA,eAAKH,IAAL,CAAUD,KAAV,GAAkBA,KAAlB;AAEA,cAAIO,OAAsB,GAAG;AAAA;AAAA,sCAAUC,gBAAV,CAA2BtC,IAAI,CAAC,MAAD,EAAS,KAAK+B,IAAd,CAA/B;AAAA;AAAA,6CAA7B;AACAM,UAAAA,OAAO,CAACE,aAAR,CAAsB,KAAtB,EAA6B,KAA7B,EAAoC,MAAM;AACtC;AAAA;AAAA,sCAASC,UAAT,CAAoBC,eAApB,CAAoC,KAAKV,IAAzC;AACH,WAFD;;AAIA,cAAI;AACA,iBAAKN,QAAL,GAAgB;AAAA;AAAA,wCAAUa,gBAAV,CAA2B,IAA3B,EAAiCV,IAAjC,CAAhB;AACA,iBAAKH,QAAL,CAAcO,sBAAd;AACA,iBAAKP,QAAL,CAAcE,IAAd,CAAmB,IAAnB;AACH,WAJD,CAIE,OAAOe,CAAP,EAAU,CAEX;AACJ;;AAEDC,QAAAA,WAAW,GAAG;AACV;AAAA;AAAA,oCAASH,UAAT,CAAoBC,eAApB,CAAoC,KAAKV,IAAzC;AACH;;AAjC+B,O","sourcesContent":["import { Component, find, Node, Tween, Vec3, _decorator } from 'cc';\r\nimport { cocosUtil } from '../../../../utils/cocosUtil';\r\nimport { mapModel } from '../../../model/mapModel';\r\nimport { AnimationCtrl } from '../../base/AnimationCtrl';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport const HintNames = {\r\n    targetPos: \"targetPos\",\r\n    targetPos2: \"targetPos2\",\r\n    targetPos3: \"targetPos3\",\r\n    hit1: \"hit1\",\r\n    hit2: \"hit2\",\r\n    hit3: \"hit3\",\r\n    hit4: \"hit4\",\r\n    hit5: \"hit5\",\r\n    hit6: \"hit6\",\r\n    hit7: \"hit7\",\r\n    boom1: \"boom1\",\r\n    feiBiao: \"feiBiao\",\r\n    blockArrow: \"blockArrow\",\r\n    comeShine: \"comeShine\",\r\n};\r\n\r\n@ccclass('Hint')\r\nexport class Hint extends Component {\r\n\r\n    bodyNode: Node;\r\n\r\n    hintUtil: any;\r\n    extraObj: any;\r\n\r\n    init(name: string, worldPos: Vec3, angle: number = 0, extraObj?: any) {\r\n        this.bodyNode = find(\"body\", this.node);\r\n        this.extraObj = extraObj;\r\n        this.unscheduleAllCallbacks();\r\n        Tween.stopAllByTarget(this.node);\r\n\r\n        let pos = cocosUtil.convertToNodeSpace(this.node, worldPos);\r\n        this.node.setPosition(pos);\r\n        this.node.angle = angle;\r\n\r\n        let aniCtrl: AnimationCtrl = cocosUtil.addComponentOnce(find(\"body\", this.node), AnimationCtrl);\r\n        aniCtrl.playAnimation(\"ani\", false, () => {\r\n            mapModel.hintSystem.recycleHintNode(this.node);\r\n        });\r\n\r\n        try {\r\n            this.hintUtil = cocosUtil.addComponentOnce(this, name);\r\n            this.hintUtil.unscheduleAllCallbacks();\r\n            this.hintUtil.init(this);\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    recycleSelf() {\r\n        mapModel.hintSystem.recycleHintNode(this.node);\r\n    }\r\n\r\n}\r\n\r\n"]}