{"version":3,"sources":["file:///G:/cocos/%E6%9C%AB%E6%97%A5%E7%89%B9%E5%B7%A5%E9%98%9F/assets/scripts/game/compoment/item/weapon/Weapon2.ts"],"names":["Component","_decorator","cocosUtil","constants","mapModel","physicsGroup","HintNames","ccclass","property","Weapon2","weapon","weaponId","bulletId","init","atk","atkByFist","contactBegin","node","hintSystem","addHint","hit1","convertToWorldSpace","targetForceMoveBack","moveMaxFar","row","lv","design","maxLv","bulletSystem","addBullet","PLAYER_BULLET","angle"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,U,OAAAA,U;;AACjBC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U,GAE9B;;yBAEaQ,O,WADZF,OAAO,CAAC,SAAD,C,gBAAR,MACaE,OADb,SAC6BT,SAD7B,CACuC;AAAA;AAAA;AAAA,eAEnCU,MAFmC;AAAA,eAGnCC,QAHmC,GAGxB,KAHwB;AAAA,eAKnCC,QALmC,GAKxB,CALwB;AAAA;;AAOnCC,QAAAA,IAAI,CAACH,MAAD,EAAiB;AACjB,eAAKA,MAAL,GAAcA,MAAd;AAEH;;AAEDI,QAAAA,GAAG,GAAG;AACF,eAAKJ,MAAL,CAAYK,SAAZ,CAAsB,GAAtB,EAA2B,GAA3B;AACH;;AAEDC,QAAAA,YAAY,CAACC,IAAD,EAAa;AACrB;AACA;AAAA;AAAA,oCAASC,UAAT,CAAoBC,OAApB,CAA4B;AAAA;AAAA,sCAAUC,IAAtC,EAA4C;AAAA;AAAA,sCAAUC,mBAAV,CAA8BJ,IAA9B,CAA5C;AACA,eAAKP,MAAL,CAAYY,mBAAZ,CAAgCL,IAAhC;AAEH;;AAEDM,QAAAA,UAAU,GAAG;AACT,cAAI,KAAKb,MAAL,CAAYc,GAAZ,CAAgBC,EAAhB,IAAsB;AAAA;AAAA,sCAAUC,MAAV,CAAiBC,KAA3C,EAAkD;AAC9C;AACA;AAAA;AAAA,sCAASC,YAAT,CAAsBC,SAAtB,CAAgC,KAAKjB,QAArC,EAA+C;AAAA;AAAA,8CAAakB,aAA5D,EAA2E;AAAA;AAAA,wCAAUT,mBAAV,CAA8B,KAAKX,MAAL,CAAYO,IAA1C,CAA3E,EAA4H,IAA5H,EAAkI,KAAKP,MAAL,CAAYO,IAAZ,CAAiBc,KAAnJ;AACH;AACJ;;AA5BkC,O","sourcesContent":["import { Component, Node, _decorator } from 'cc';\r\nimport { cocosUtil } from '../../../../utils/cocosUtil';\r\nimport { constants } from '../../../data/constants';\r\nimport { mapModel } from '../../../model/mapModel';\r\nimport { physicsGroup } from '../../../other/physicsGroup';\r\nimport { HintNames } from '../hint/Hint';\r\nimport { Weapon } from './Weapon';\r\nconst { ccclass, property } = _decorator;\r\n\r\n// 如来神掌\r\n@ccclass('Weapon2')\r\nexport class Weapon2 extends Component {\r\n\r\n    weapon: Weapon;\r\n    weaponId = 10135;\r\n\r\n    bulletId = 7;\r\n\r\n    init(weapon: Weapon) {\r\n        this.weapon = weapon;\r\n\r\n    }\r\n\r\n    atk() {\r\n        this.weapon.atkByFist(300, 0.1);\r\n    }\r\n\r\n    contactBegin(node: Node) {\r\n        // 受击特效\r\n        mapModel.hintSystem.addHint(HintNames.hit1, cocosUtil.convertToWorldSpace(node));\r\n        this.weapon.targetForceMoveBack(node);\r\n\r\n    }\r\n\r\n    moveMaxFar() {\r\n        if (this.weapon.row.lv == constants.design.maxLv) {\r\n            // 额外释放如来神掌\r\n            mapModel.bulletSystem.addBullet(this.bulletId, physicsGroup.PLAYER_BULLET, cocosUtil.convertToWorldSpace(this.weapon.node), null, this.weapon.node.angle);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n"]}