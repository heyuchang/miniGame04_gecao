{"version":3,"sources":["file:///G:/cocos/%E6%9C%AB%E6%97%A5%E7%89%B9%E5%B7%A5%E9%98%9F/assets/scripts/game/compoment/item/skill/Skill1.ts"],"names":["Component","_decorator","mapModel","physicsGroup","ccclass","property","Skill1","skill","num","timeCount","init","subNum","updateLogic","dt","row","getAtkCd","bulletSystem","addBullet","bulletId","PLAYER_BULLET2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;;AACXC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U,GAE9B;;wBAEaK,M,WADZF,OAAO,CAAC,QAAD,C,gBAAR,MACaE,MADb,SAC4BN,SAD5B,CACsC;AAAA;AAAA;AAAA,eAElCO,KAFkC;AAAA,eAIlCC,GAJkC,GAIpB,CAJoB;AAAA,eAKlCC,SALkC,GAKd,CALc;AAAA;;AAOlCC,QAAAA,IAAI,CAACH,KAAD,EAAe;AACf,eAAKA,KAAL,GAAaA,KAAb;AAEH;;AAEDI,QAAAA,MAAM,GAAG;AACL,eAAKH,GAAL;AACH;;AAEDI,QAAAA,WAAW,CAACC,EAAD,EAAa;AACpB,eAAKJ,SAAL,IAAkBI,EAAlB;;AACA,cAAI,KAAKL,GAAL,IAAY,KAAKD,KAAL,CAAWO,GAAX,CAAeN,GAA/B,EAAoC;AAChC;AACA;AACH;;AACD,cAAI,KAAKC,SAAL,GAAiB,KAAKF,KAAL,CAAWQ,QAAX,EAArB,EAA4C;AACxC;AACH;;AAED,eAAKN,SAAL,GAAiB,CAAjB;AACA,eAAKD,GAAL;AAEA;AAAA;AAAA,oCAASQ,YAAT,CAAsBC,SAAtB,CAAgC,KAAKV,KAAL,CAAWO,GAAX,CAAeI,QAA/C,EAAyD;AAAA;AAAA,4CAAaC,cAAtE,EAAsF,IAAtF,EAA4F,IAA5F,EAAkG,IAAlG;AACH;;AA9BiC,O","sourcesContent":["import { Component, _decorator } from 'cc';\r\nimport { mapModel } from '../../../model/mapModel';\r\nimport { physicsGroup } from '../../../other/physicsGroup';\r\nimport { Skill } from './Skill';\r\nconst { ccclass, property } = _decorator;\r\n\r\n// 锤子\r\n@ccclass('Skill1')\r\nexport class Skill1 extends Component {\r\n\r\n    skill: Skill;\r\n\r\n    num: number = 0;\r\n    timeCount: number = 0;\r\n\r\n    init(skill: Skill) {\r\n        this.skill = skill;\r\n\r\n    }\r\n\r\n    subNum() {\r\n        this.num--;\r\n    }\r\n\r\n    updateLogic(dt: number) {\r\n        this.timeCount += dt;\r\n        if (this.num >= this.skill.row.num) {\r\n            // 数量已达上限\r\n            return;\r\n        }\r\n        if (this.timeCount < this.skill.getAtkCd()) {\r\n            return;\r\n        }\r\n\r\n        this.timeCount = 0;\r\n        this.num++;\r\n\r\n        mapModel.bulletSystem.addBullet(this.skill.row.bulletId, physicsGroup.PLAYER_BULLET2, null, null, this);\r\n    }\r\n\r\n}\r\n\r\n"]}