{"version":3,"sources":["file:///G:/cocos/%E6%9C%AB%E6%97%A5%E7%89%B9%E5%B7%A5%E9%98%9F/assets/scripts/game/compoment/layer/MoreGameLayer.ts"],"names":["Node","_decorator","tyqSDK","msgac","audioManager","serverMsg","BaseUILayer","ccclass","property","MoreGameLayer","type","onLoad","onEnable","onDisable","refreshAudioLayer","onDestroy","hideCustomRectCenterAd","start","self","showCustomRectCenterAd","closeBless","closeLayer","musicVolume","audioIconOpen","active","audioIconClose","onClickBtnHome","send","mapLeave","onClickBtnAudio","setMusicVolume","setEffectVolume"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,I,OAAAA,I;AAAMC,MAAAA,U,OAAAA,U;;AACNC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;+BAGjBQ,a,WADZF,OAAO,CAAC,eAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEV;AAAR,OAAD,C,UAERQ,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEV;AAAR,OAAD,C,UACRQ,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEV;AAAR,OAAD,C,2BANb,MACaS,aADb;AAAA;AAAA,sCAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAO3CE,QAAAA,MAAM,GAAG,CACL;AAEH;;AAEDC,QAAAA,QAAQ,GAAG,CAEV;;AAEDC,QAAAA,SAAS,GAAG;AACR,gBAAMA,SAAN;AAEA,eAAKC,iBAAL;AACH;;AAEDC,QAAAA,SAAS,GAAG;AACR,gBAAMA,SAAN;AACA;AAAA;AAAA,gCAAOC,sBAAP;AACH;;AAEDC,QAAAA,KAAK,GAAG;AACJ;AACA,cAAIC,IAAI,GAAG,IAAX;AACA;AAAA;AAAA,gCAAOC,sBAAP,CAA8B,YAAY;AACtCD,YAAAA,IAAI,CAACE,UAAL;AACH,WAFD;AAGH;;AAEDA,QAAAA,UAAU,GAAG;AACT,eAAKC,UAAL;AACH;;AAEDP,QAAAA,iBAAiB,GAAG;AAChB,cAAI;AAAA;AAAA,4CAAaQ,WAAb,GAA2B,CAA/B,EAAkC;AAC9B,iBAAKC,aAAL,CAAmBC,MAAnB,GAA4B,IAA5B;AACA,iBAAKC,cAAL,CAAoBD,MAApB,GAA6B,KAA7B;AACH,WAHD,MAGO;AACH,iBAAKD,aAAL,CAAmBC,MAAnB,GAA4B,KAA5B;AACA,iBAAKC,cAAL,CAAoBD,MAApB,GAA6B,IAA7B;AACH;AACJ;;AAGDE,QAAAA,cAAc,GAAG;AACb;AAAA;AAAA,gCAAOV,sBAAP;AACA;AAAA;AAAA,sCAAUW,IAAV,CAAe;AAAA;AAAA,8BAAMC,QAArB;AACH;;AAEDC,QAAAA,eAAe,GAAG;AACd,cAAI;AAAA;AAAA,4CAAaP,WAAb,GAA2B,CAA/B,EAAkC;AAC9B;AAAA;AAAA,8CAAaQ,cAAb,CAA4B,CAA5B;AACA;AAAA;AAAA,8CAAaC,eAAb,CAA6B,CAA7B;AACH,WAHD,MAGO;AACH;AAAA;AAAA,8CAAaD,cAAb,CAA4B,CAA5B;AACA;AAAA;AAAA,8CAAaC,eAAb,CAA6B,CAA7B;AACH;;AACD,eAAKjB,iBAAL;AACH;;AAhE0C,O;;;;;iBAEA,I;;;;;;;iBAEK,I;;;;;;;iBACC,I","sourcesContent":["import { Node, _decorator } from 'cc';\r\nimport { tyqSDK } from '../../../tyqSDK/tyqSDK';\r\nimport { msgac } from '../../data/msgac';\r\nimport { audioManager } from '../../manager/audioManager';\r\nimport { serverMsg } from '../../other/serverMsg';\r\nimport { BaseUILayer } from './BaseUILayer';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MoreGameLayer')\r\nexport class MoreGameLayer extends BaseUILayer {\r\n\r\n    @property({ type: Node }) btnClose: Node = null;\r\n\r\n    @property({ type: Node }) audioIconOpen: Node = null;\r\n    @property({ type: Node }) audioIconClose: Node = null;\r\n\r\n    onLoad() {\r\n        // this.fitNodeWidget(this.btnClose, 100)\r\n\r\n    }\r\n\r\n    onEnable() {\r\n\r\n    }\r\n\r\n    onDisable() {\r\n        super.onDisable();\r\n\r\n        this.refreshAudioLayer();\r\n    }\r\n\r\n    onDestroy() {\r\n        super.onDestroy();\r\n        tyqSDK.hideCustomRectCenterAd()\r\n    }\r\n\r\n    start() {\r\n        ///   console.log(\"tyqSDK.showCustomRectCenterAd\")\r\n        let self = this\r\n        tyqSDK.showCustomRectCenterAd(function () {\r\n            self.closeBless()\r\n        })\r\n    }\r\n\r\n    closeBless() {\r\n        this.closeLayer()\r\n    }\r\n\r\n    refreshAudioLayer() {\r\n        if (audioManager.musicVolume > 0) {\r\n            this.audioIconOpen.active = true;\r\n            this.audioIconClose.active = false;\r\n        } else {\r\n            this.audioIconOpen.active = false;\r\n            this.audioIconClose.active = true;\r\n        }\r\n    }\r\n\r\n\r\n    onClickBtnHome() {\r\n        tyqSDK.hideCustomRectCenterAd()\r\n        serverMsg.send(msgac.mapLeave);\r\n    }\r\n\r\n    onClickBtnAudio() {\r\n        if (audioManager.musicVolume > 0) {\r\n            audioManager.setMusicVolume(0);\r\n            audioManager.setEffectVolume(0);\r\n        } else {\r\n            audioManager.setMusicVolume(1);\r\n            audioManager.setEffectVolume(1);\r\n        }\r\n        this.refreshAudioLayer();\r\n    }\r\n\r\n}\r\n\r\n"]}