{"version":3,"sources":["file:///G:/cocos/%E6%9C%AB%E6%97%A5%E7%89%B9%E5%B7%A5%E9%98%9F/assets/scripts/game/compoment/item/bullet/Bullet14.ts"],"names":["Component","tween","Tween","UIOpacity","_decorator","cocosUtil","AnimationCtrl","ccclass","property","bullet14","bullet","moveStop","contactNotHide","aniCtrl","init","node","angle","uiOpacity","getComponent","opacity","addComponent","playAnimation","startColliderAni","scheduleOnce","tweenFadeOut","recycleSelf","stopAllByTarget","collider","size","offset","width","height","y","delay","to","start"],"mappings":"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","sourcesContent":["import { Component, tween, Tween, UIOpacity, _decorator } from 'cc';\r\nimport { cocosUtil } from '../../../../utils/cocosUtil';\r\nimport { AnimationCtrl } from '../../base/AnimationCtrl';\r\nimport { Bullet } from './Bullet';\r\nconst { ccclass, property } = _decorator;\r\n\r\n// 蝎子-电极扳手\r\n@ccclass('bullet14')\r\nexport class bullet14 extends Component {\r\n\r\n    bullet: Bullet;\r\n    moveStop: boolean;\r\n    contactNotHide: boolean = true;\r\n\r\n    aniCtrl: AnimationCtrl;\r\n\r\n    init(bullet: Bullet) {\r\n        this.bullet = bullet;\r\n        this.moveStop = true;\r\n        this.bullet.node.angle = 0;\r\n\r\n        let uiOpacity = this.bullet.getComponent(UIOpacity);\r\n        if (uiOpacity) {\r\n            uiOpacity.opacity = 255;\r\n        }\r\n\r\n        if (!this.aniCtrl) {\r\n            this.aniCtrl = this.bullet.addComponent(AnimationCtrl);\r\n        }\r\n        this.aniCtrl.playAnimation(\"bashou\", true, () => {\r\n            this.startColliderAni();\r\n        });\r\n        this.startColliderAni();\r\n\r\n        this.scheduleOnce(() => {\r\n            cocosUtil.tweenFadeOut(this.bullet.node, 1, () => {\r\n                this.bullet.recycleSelf();\r\n            });\r\n        }, 2.6);\r\n\r\n    }\r\n\r\n    startColliderAni() {\r\n        Tween.stopAllByTarget(this.bullet.collider.size);\r\n        Tween.stopAllByTarget(this.bullet.collider.offset);\r\n        this.bullet.collider.size.width = 80;\r\n        this.bullet.collider.size.height = 80;\r\n        this.bullet.collider.offset.y = 0;\r\n        tween(this.bullet.collider.size).delay(0.55).to(0.05, { width: 500, height: 180 }).delay(0.3).to(0.05, { width: 80, height: 80 }).start();\r\n        tween(this.bullet.collider.offset).delay(0.55).to(0.05, { y: -30 }).delay(0.3).to(0.05, { y: 0 }).start();\r\n    }\r\n\r\n}\r\n\r\n"]}